(this["webpackJsonpsample-react"]=this["webpackJsonpsample-react"]||[]).push([[0],{1:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"m",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"j",(function(){return d})),n.d(t,"l",(function(){return m})),n.d(t,"k",(function(){return p})),n.d(t,"h",(function(){return b})),n.d(t,"r",(function(){return g})),n.d(t,"s",(function(){return f})),n.d(t,"q",(function(){return E})),n.d(t,"o",(function(){return h})),n.d(t,"p",(function(){return v})),n.d(t,"n",(function(){return y})),n.d(t,"i",(function(){return O}));var a="ADD_INGREDIENT",r="REMOVE_INGREDIENT",c="GET_INGREDIENTS",o="GET_INGREDIENTS_START",i="GET_INGREDIENTS_FAIL",l="GET_ORDERS",u="GET_ORDERS_START",s="GET_ORDERS_FAIL",d="POST_ORDER",m="POST_ORDER_START",p="POST_ORDER_FAIL",b="GO_TO_ORDER",g="SIGNUP_START",f="SIGNUP_SUCCESS",E="SIGNUP_FAIL",h="SIGNIN_START",v="SIGNIN_SUCCESS",y="SIGNIN_FAIL",O="LOGOUT_USER"},11:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=function(e){return r.a.createElement("div",{id:"Loader"},"Loading...")}},12:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=function(e){return r.a.createElement("button",{className:"Button ".concat(e.type),onClick:e.click},e.children)}},13:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=function(e){var t=r.a.createElement("input",e);return"textarea"===e.inputType&&(t=r.a.createElement("textarea",e)),r.a.createElement("div",{id:"CustomInput"},r.a.createElement("label",{htmlFor:e.id},e.label),t,e.rules?r.a.createElement("h6",{className:"Error"},e.rules.message):null)}},14:function(e,t,n){"use strict";var a=n(18),r=n.n(a).a.create({baseURL:"https://burgerbuilder-2c9ed.firebaseio.com/"});t.a=r},17:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s}));var a=n(1),r=n(18),c=n.n(r),o=function(e){return function(t){t({type:a.r});var n={email:e.email,password:e.password,returnSecureToken:!0};c.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBEseIx_gjCne8IFGcjBuskUGmmd06cYOU",n).then((function(e){t({type:a.s,auth:e.data}),t(l(e.data.expiresIn))})).catch((function(e){t({type:a.q,error:e.response.data.error})}))}},i=function(e){return function(t){t({type:a.o});var n={email:e.email,password:e.password,returnSecureToken:!0};c.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBEseIx_gjCne8IFGcjBuskUGmmd06cYOU",n).then((function(e){localStorage.setItem("token",e.data.idToken);var n=new Date((new Date).getTime()+1e3*+e.data.expiresIn);localStorage.setItem("expirationDate",n),localStorage.setItem("userId",e.data.localId),t({type:a.p,user:e.data}),t(l(e.data.expiresIn))})).catch((function(e){t({type:a.n,error:e.response.data.error})}))}},l=function(e){return function(t){setTimeout((function(){t(u())}),1e3*+e)}},u=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),{type:a.i}},s=function(){return function(e){if(localStorage.getItem("token")){var t=new Date(localStorage.getItem("expirationDate"));t<new Date?e(u()):c.a.post("https://identitytoolkit.googleapis.com/v1/accounts:lookup?key=AIzaSyBEseIx_gjCne8IFGcjBuskUGmmd06cYOU",{idToken:localStorage.getItem("token")}).then((function(n){e({type:a.p,user:n.data.users[0]}),e(l((t.getTime()-(new Date).getTime())/1e3))})).catch((function(e){return console.log(e)}))}else e(u())}}},22:function(e,t,n){"use strict";var a=n(48),r=n(49),c=n(50),o=n(51),i=n(0),l=n.n(i),u=n(27),s=n(7);t.a=function(e,t){return function(n){Object(o.a)(d,n);var i=Object(c.a)(d);function d(){var e;Object(a.a)(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).state={error:null},e}return Object(r.a)(d,[{key:"componentDidMount",value:function(){var e=this;this.reqInterceptor=t.interceptors.request.use((function(t){return e.setState({error:null}),t})),this.resInterceptor=t.interceptors.response.use((function(e){return e}),(function(t){e.setState({error:t})}))}},{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.reqInterceptor),t.interceptors.response.eject(this.resInterceptor)}},{key:"render",value:function(){var t=this;return l.a.createElement(s.a,null,l.a.createElement(u.a,{show:this.state.error,removeModal:function(){return t.setState({error:null})}},this.state.error?this.state.error.message:null),l.a.createElement(e,this.props))}}]),d}(i.Component)}},26:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=function(e){return e.show?r.a.createElement("div",{onClick:e.remove,id:"Backdrop"}):null}},27:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=n(26),o=n(7);t.a=r.a.memo((function(e){return r.a.createElement(o.a,null,r.a.createElement(c.a,{show:e.show,remove:e.removeModal}),r.a.createElement("div",{id:"Modal",style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"}},e.children))}),(function(e,t){return t.show===e.show&&t.children===e.children}))},46:function(e,t,n){e.exports=n.p+"static/media/burger-logo.b8503d26.png"},52:function(e,t,n){e.exports=n(81)},61:function(e,t,n){},7:function(e,t,n){"use strict";t.a=function(e){return e.children}},79:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(23),o=n.n(c),i=n(2),l=n(15),u=n(45),s=n(20),d=n(8),m=n(1),p={ingredients:null,price:15,loading:!1,error:null,ordered:!1},b={salad:12,cheese:15,meat:20,bacon:17},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,n=Object(d.a)({},e);switch(t.type){case m.d:n.loading=!0;break;case m.b:n.ingredients=t.data,n.ordered=!1,n.loading=!1,n.error=null,n.price=15;break;case m.c:n.error=t.error.message,n.loading=!1;break;case m.l:n.loading=!0;break;case m.j:n.ordered=!0;break;case m.k:n.error=t.error.message,n.loading=!1;break;case m.h:n.ordered=!1;break;case m.a:n.ingredients=Object(d.a)({},e.ingredients,Object(s.a)({},t.ingredientType,e.ingredients[t.ingredientType]+1)),n.price=e.price+b[t.ingredientType];break;case m.m:n.ingredients=Object(d.a)({},e.ingredients,Object(s.a)({},t.ingredientType,e.ingredients[t.ingredientType]-1)),n.price=e.price-b[t.ingredientType]}return n},f={orders:null,loading:!1,error:null},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,n=Object(d.a)({},e);switch(t.type){case m.d:n.loading=!0;break;case m.e:var a=[];for(var r in t.data)a.push(Object(d.a)({},t.data[r],{id:r}));n.orders=a,n.loading=!1;break;case m.c:n.error=t.error.message,n.loading=!1}return n},h={user:null,loading:!1,error:null,token:null},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,n=Object(d.a)({},e);switch(t.type){case m.r:n.loading=!0;break;case m.s:n.user=t.auth,n.token=t.auth.idToken,n.loading=!1,n.error=null;break;case m.q:n.loading=!1,n.error=t.error.message;break;case m.o:n.loading=!0;break;case m.p:n.user=t.user,n.token=t.user.idToken,n.loading=!1,n.error=null;break;case m.n:n.loading=!1,n.error=t.error.message;break;case m.i:n.user=null,n.token=null}return n},y=Object(l.c)({ingredients:g,orders:E,auth:v}),O=null,k=Object(l.d)(y,O(Object(l.a)(u.a))),j=(n(61),n(3)),S=n(10),I=n(17),N=(n(79),n(4)),w=n(7),T=n(46),C=n.n(T),D=function(e){return r.a.createElement("div",{id:"Logo",style:{height:e.height}},r.a.createElement("img",{src:C.a,alt:"logo"}))},R=Object(i.b)((function(e){return{user:e.auth.user}}),(function(e){return{onLogout:function(){return e(I.b())}}}))((function(e){var t=r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"NavItem"},r.a.createElement(S.c,{to:"/orders"},"Orders")),r.a.createElement("li",{className:"NavItem"},r.a.createElement(S.c,{to:"/signin",onClick:e.onLogout},"Logout")));return e.user||(t=r.a.createElement("li",{className:"NavItem"},r.a.createElement(S.c,{to:"/signin"},"LogIn/Register"))),r.a.createElement("ul",{id:"NavItems"},r.a.createElement("li",{className:"NavItem"},r.a.createElement(S.c,{to:"/",exact:!0},"Burger Builder")),t)})),_=function(e){return r.a.createElement("div",{onClick:e.click,id:"DrawerToggle"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},G=function(e){return r.a.createElement("header",{id:"Toolbar"},r.a.createElement(_,{click:e.showSideDrawer}),r.a.createElement(D,{height:"90%"}),r.a.createElement("nav",{className:"Desktop"},r.a.createElement(R,null)))},A=n(26),B=function(e){var t="Close";return e.open&&(t="Open"),r.a.createElement(w.a,null,r.a.createElement(A.a,{show:e.open,remove:e.closeSideDrawer}),r.a.createElement("div",{id:"SideDrawer",className:t},r.a.createElement(D,{height:"11%"}),r.a.createElement("nav",null,r.a.createElement(R,null))))},x=function(e){var t=Object(a.useState)(!1),n=Object(N.a)(t,2),c=n[0],o=n[1];return r.a.createElement(w.a,null,r.a.createElement("div",{id:"Layout"},r.a.createElement(G,{showSideDrawer:function(){o(!0)},open:c}),r.a.createElement(B,{closeSideDrawer:function(){o(!1)},open:c}),r.a.createElement("main",{className:"Content"},e.children)))},L=n(14),U=n(47),F=n.n(U),M=function(){return function(e){e({type:m.d}),L.a.get("/ingredients.json").then((function(t){var n;e((n=t.data,{type:m.b,data:n}))})).catch((function(t){return e((n=t,{type:m.c,error:n}));var n}))}},P=function(e){return{type:m.a,ingredientType:e}},q=function(e){return{type:m.m,ingredientType:e}},z=function(e,t){return function(n){n({type:m.l}),L.a.post("/orders.json?auth="+t,e).then((function(e){n({type:m.j}),F.a.notification({message:"Burger Ordered",timeout:2e3})})).catch((function(e){var t;n((t=e,{type:m.k,error:t}))}))}},Y=function(){return{type:m.h}},W=n(28),J=function(e){var t=null;switch(e.type){case"bread-bottom":t=r.a.createElement("div",{className:"BreadBottom"});break;case"bread-top":t=r.a.createElement("div",{className:"BreadTop"},r.a.createElement("div",{className:"Seeds1"}),r.a.createElement("div",{className:"Seeds2"}));break;case"meat":t=r.a.createElement("div",{className:"Meat"});break;case"cheese":t=r.a.createElement("div",{className:"Cheese"});break;case"salad":t=r.a.createElement("div",{className:"Salad"});break;case"bacon":t=r.a.createElement("div",{className:"Bacon"});break;default:t=null}return t},H=function(e){var t=Object.keys(e.ingredients).map((function(t){return Object(W.a)(Array(e.ingredients[t])).map((function(e,n){return r.a.createElement(J,{key:t+n,type:t})}))})).reduce((function(e,t){return e.concat(t)}),[]);return r.a.createElement("div",{id:"Burger"},r.a.createElement(J,{type:"bread-top"}),0===t.length?r.a.createElement("p",null,"Please add ingredients"):t,r.a.createElement(J,{type:"bread-bottom"}))},V=function(e){return r.a.createElement("div",{id:"BuildControl"},r.a.createElement("div",{className:"Label"},e.label),r.a.createElement("button",{disabled:e.disabledSub,onClick:e.subtract,className:"Less"},"Less"),r.a.createElement("button",{disabled:e.disabledAdd,onClick:e.add,className:"More"},"More"))},$=[{label:"Salad",type:"salad"},{label:"Bacon",type:"bacon"},{label:"Meat",type:"meat"},{label:"Cheese",type:"cheese"}],K=function(e){return r.a.createElement("div",{id:"BuildControls"},r.a.createElement("h3",null,"Current Price: ",r.a.createElement("strong",null,"\u20b1",e.price.toFixed(0))),$.map((function(t,n){return r.a.createElement(V,{disabledAdd:e.disabledAdd[t.type],disabledSub:e.disabledSub[t.type],add:function(){return e.ingredientAdd(t.type)},subtract:function(){return e.ingredientSubtract(t.type)},key:t.label+n,label:t.label})})),r.a.createElement("button",{onClick:e.order,disabled:!e.purchaseable,className:"OrderButton"},"ORDER NOW"))},Q=n(27),X=n(12),Z=r.a.memo((function(e){var t=Object.keys(e.ingredients).map((function(t){return r.a.createElement("li",{key:t+e.ingredients[t]},r.a.createElement("span",{style:{textTransform:"capitalize"}},t),": ",e.ingredients[t])}));return r.a.createElement(w.a,null,r.a.createElement("h3",null,"Your Order"),r.a.createElement("p",null,"A delicious burger with the following ingredients:"),r.a.createElement("ul",null,t),r.a.createElement("p",null,r.a.createElement("strong",null,"Total of: \u20b1",e.price)),r.a.createElement("p",null,"Continue to checkout?"),r.a.createElement(X.a,{click:e.continue,type:"Success"},"CONTINUE"),r.a.createElement(X.a,{click:e.cancel,type:"Danger"},"CANCEL"))})),ee=n(11),te=n(22),ne=Object(te.a)((function(e){var t=Object(i.c)(),n=Object(a.useState)(!1),c=Object(N.a)(n,2),o=c[0],l=c[1],u=Object(i.d)((function(e){return e.ingredients.ingredients})),s=Object(i.d)((function(e){return e.ingredients.price})),m=Object(i.d)((function(e){return e.ingredients.loading})),p=Object(a.useCallback)((function(){return t(M())}),[t]);Object(a.useEffect)((function(){p()}),[p]);var b=Object(a.useCallback)((function(){l(!0)}),[]),g=Object(a.useCallback)((function(){l(!1)}),[]),f=Object(d.a)({},u);for(var E in f)f[E]=f[E]<=0;var h=Object(d.a)({},u);for(var v in h)h[v]=h[v]>=4;var y=r.a.createElement(Z,{cancel:g,price:s,ingredients:u,continue:function(){t(Y()),e.history.push("/checkout")}});m&&(y=r.a.createElement(ee.a,null));var O=r.a.createElement(ee.a,null);return u&&(O=r.a.createElement(w.a,null,r.a.createElement(H,{ingredients:u}),r.a.createElement(Q.a,{show:o,removeModal:g},y),r.a.createElement(K,{price:s,disabledSub:f,disabledAdd:h,ingredientAdd:function(e){return t(P(e))},ingredientSubtract:function(e){return t(q(e))},purchaseable:Object.values(u).reduce((function(e,t){return e+t}),0)>0,order:b}))),O}),L.a),ae=function(e){return r.a.createElement("div",{id:"CheckoutSummary"},r.a.createElement("h1",null,"Enjoy your burger"),r.a.createElement("div",{style:{width:"100%",margin:"auto"}},r.a.createElement(H,{ingredients:e.ingredients})),r.a.createElement(X.a,{type:"Success",click:e.continue},"CONTINUE"),r.a.createElement(X.a,{type:"Danger",click:e.cancel},"CANCEL"))},re=n(13),ce=function(e){var t=Object(i.c)(),n=Object(a.useState)(""),c=Object(N.a)(n,2),o=c[0],l=c[1],u=Object(a.useState)(""),s=Object(N.a)(u,2),d=s[0],m=s[1],p=Object(a.useState)(""),b=Object(N.a)(p,2),g=b[0],f=b[1],E=Object(a.useState)(""),h=Object(N.a)(E,2),v=h[0],y=h[1],O=Object(a.useState)(""),k=Object(N.a)(O,2),S=k[0],I=k[1],w=Object(i.d)((function(e){return e.ingredients.ingredients})),T=Object(i.d)((function(e){return e.ingredients.price})),C=Object(i.d)((function(e){return e.ingredients.loading})),D=Object(i.d)((function(e){return e.ingredients.ordered})),R=Object(i.d)((function(e){return e.auth.user})),_=D?r.a.createElement(j.a,{to:"/"}):null,G=r.a.createElement(ee.a,null);return C||(G=r.a.createElement("form",{onSubmit:function(n){n.preventDefault();var a=new Date,r={ingredients:w,price:T,customer:{name:o,address:{street:d,town:g,city:v},phoneNumber:S},timeOrdered:"".concat(a.getHours(),":").concat(a.getMinutes()),userId:localStorage.getItem("userId")};R?function(e,n){t(z(e,n))}(r,localStorage.getItem("token")):e.history.push("/signin")}},r.a.createElement(re.a,{onChange:function(e){return l(e.target.value)},value:o,type:"text",name:"name",label:"Name",id:"name"}),r.a.createElement(re.a,{onChange:function(e){return m(e.target.value)},value:d,type:"text",name:"street",label:"Street",id:"street"}),r.a.createElement(re.a,{onChange:function(e){return f(e.target.value)},value:g,type:"text",name:"town",label:"Town",id:"town"}),r.a.createElement(re.a,{onChange:function(e){return y(e.target.value)},value:v,type:"text",name:"city",label:"City",id:"city"}),r.a.createElement(re.a,{onChange:function(e){return I(e.target.value)},value:S,type:"number",name:"phoneNumber",label:"Contact Number",id:"phoneNumber"}),r.a.createElement(X.a,{type:"Success"},R?"ORDER":"SIGN IN"))),r.a.createElement("div",{id:"ContactData"},_,r.a.createElement("h4",null,"Enter your contact details"),G)},oe=function(e){var t=Object(i.d)((function(e){return e.ingredients.ingredients})),n=Object(i.d)((function(e){return e.auth.user}));return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(ae,{continue:function(){n?e.history.replace(e.match.path+"/contact-data"):e.history.push("/signup")},cancel:function(){e.history.goBack()},ingredients:t}):r.a.createElement(j.a,{to:"/"}),r.a.createElement(j.b,{path:e.match.path+"/contact-data",component:ce}))},ie=Object(te.a)((function(e){var t=Object(i.c)(),n=Object(a.useState)(""),c=Object(N.a)(n,2),o=c[0],l=c[1],u=Object(a.useState)(""),s=Object(N.a)(u,2),d=s[0],m=s[1],p=Object(a.useState)({message:"Required"}),b=Object(N.a)(p,1)[0],g=Object(i.d)((function(e){return e.auth.loading})),f=Object(i.d)((function(e){return e.auth.user})),E=Object(i.d)((function(e){return e.auth.error})),h=Object(i.d)((function(e){return e.ingredients.ingredients})),v=[];h&&(v=Object.keys(h).map((function(e){return Object(W.a)(Array(h[e]))})));var y=r.a.createElement(ee.a,null);return g||(y=r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(e){t(I.c(e))}({email:o,password:d})}},r.a.createElement(re.a,{onChange:function(e){return l(e.target.value)},value:o,type:"email",name:"email",label:"Email",rules:b}),r.a.createElement(re.a,{onChange:function(e){return m(e.target.value)},value:d,type:"password",name:"password",label:"Password",rules:b}),r.a.createElement(X.a,{type:"Success"},"SIGN IN"))),r.a.createElement("div",{id:"SignIn"},f?r.a.createElement(j.a,{to:0===v.flat().length?"/":"/checkout"}):null,y,E||null,r.a.createElement("p",null,"Doesn't have an account yet? ",r.a.createElement(S.b,{to:"/signup"},"Register")," here!"))}),L.a),le=r.a.lazy((function(){return n.e(3).then(n.bind(null,83))})),ue=r.a.lazy((function(){return n.e(4).then(n.bind(null,82))}));var se=function(e){var t=Object(i.c)(),n=Object(i.d)((function(e){return null===e.ingredients.ingredients})),c=Object(i.d)((function(e){return e.auth.user})),o=Object(a.useCallback)((function(){return t(I.a())}),[t]);Object(a.useEffect)((function(){o()}),[o]);var l=r.a.createElement(j.d,null,r.a.createElement(j.b,{path:"/signin",component:ie}),r.a.createElement(j.b,{path:"/signup",render:function(){return r.a.createElement(a.Suspense,{fallback:r.a.createElement(ee.a,null)},r.a.createElement(ue,null))}}),r.a.createElement(j.b,{path:"/checkout",component:oe}),r.a.createElement(j.b,{path:"/",component:ne,exact:!0}),r.a.createElement(j.a,{to:"/"}));return c&&(l=r.a.createElement(j.d,null,r.a.createElement(j.b,{path:"/checkout",component:oe}),r.a.createElement(j.b,{path:"/orders",render:function(){return r.a.createElement(a.Suspense,{fallback:r.a.createElement(ee.a,null)},r.a.createElement(le,null))}}),r.a.createElement(j.b,{path:"/signin",component:ie}),r.a.createElement(j.b,{path:"/",component:ne,exact:!0}),r.a.createElement(j.a,{to:"/"}))),r.a.createElement(S.a,null,r.a.createElement(x,null,n?r.a.createElement(j.a,{to:"/"}):null,l))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,{store:k},r.a.createElement(r.a.StrictMode,null,r.a.createElement(se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.11c16234.chunk.js.map